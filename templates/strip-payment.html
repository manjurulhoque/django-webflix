{% load static %}

<!DOCTYPE>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="{% static 'favicon.png' %}" type="image/gif" sizes="16x16">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link href="{% static 'css/checkout.css' %}" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://kit.fontawesome.com/017eaf7e3f.js" crossorigin="anonymous"></script>
    <title>Webflix - Payment via card</title>
</head>

<body class="light-mode">
<div class="login-page-bg"></div>
<div class="login-page-bg-blur"></div>
<div class="login-page-content">
    <img src="{% static "img/logo.png" %}" alt="logo">
    {% include 'messages.html' %}
    <div id="collapseStripe" class="wrapper">
        <script src="https://js.stripe.com/v3/"></script>

        <form action="{% url 'core:submit-card' %}" method="post" id="payment-form">
            {% csrf_token %}

            <div class="form-row">
                <label for="card-element">
                    Credit or debit card
                </label>
                <div id="card-element" class="StripeElement StripeElement--empty">
                    <div class="__PrivateStripeElement" style="margin: 0px !important; padding: 0px !important; border: none !important; display: block !important; background: transparent !important; position: relative !important; opacity: 1 !important;">
                        <input class="__PrivateStripeElement-input" aria-hidden="true"
                               style="border: none !important; display: block !important; position: absolute !important; height: 1px !important; top: 0px !important; left: 0px !important; padding: 0px !important; margin: 0px !important; width: 100% !important; opacity: 0 !important; background: transparent !important; pointer-events: none !important; font-size: 16px !important;">
                        <input class="__PrivateStripeElement-safariInput" aria-hidden="true" tabindex="-1"
                               style="border: none !important; display: block !important; position: absolute !important; height: 1px !important; top: 0px !important; left: 0px !important; padding: 0px !important; margin: 0px !important; width: 100% !important; opacity: 0 !important; background: transparent !important; pointer-events: none !important; font-size: 16px !important;"></div>
                </div>

                <div id="card-errors" role="alert"></div>
            </div>
            <input type="hidden" id="stripe_publishable_key" value="{{ STRIPE_PUBLISHABLE_KEY }}">
            <button class="btn btn-primary btn-block" style="margin-top: 20px">Submit Payment</button>
        </form>
        <div id="stripe-token-handler" class="is-hidden">Success! Got token: <span class="token"></span></div>
    </div>
</div>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<script src="{% static 'js/checkout.js' %}"></script>
<script src="{% static 'js/app.js' %}"></script>
</body>
</html>